<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sgsPy: map</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">sgsPy
   </div>
   <div id="projectbrief">structurally guided sampling</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__user__map.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">map <div class="ingroups"><a class="el" href="group__user.html">User Documentation</a> &raquo; <a class="el" href="group__user__stratify.html">stratify</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6665ad19a101a221ed1945f5bcba3c4a" id="r_ga6665ad19a101a221ed1945f5bcba3c4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6665ad19a101a221ed1945f5bcba3c4a">sgspy.stratify.map.map_stratifications.map</a> (*tuple[<a class="el" href="classsgspy_1_1utils_1_1raster_1_1SpatialRaster.html">SpatialRaster</a>, int|str|list[int]|list[str], int|list[int]] args, str filename='', int thread_count=8, dict driver_options=None)</td></tr>
<tr class="memdesc:ga6665ad19a101a221ed1945f5bcba3c4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function conducts mapping on existing stratifications.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga6665ad19a101a221ed1945f5bcba3c4a" name="ga6665ad19a101a221ed1945f5bcba3c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6665ad19a101a221ed1945f5bcba3c4a">&#9670;&#160;</a></span>map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sgspy.stratify.map.map_stratifications.map </td>
          <td>(</td>
          <td class="paramtype">*tuple[<a class="el" href="classsgspy_1_1utils_1_1raster_1_1SpatialRaster.html">SpatialRaster</a>, int|str|list[int]|list[str], int|list[int]]</td>          <td class="paramname"><span class="paramname"><em>args</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str </td>          <td class="paramname"><span class="paramname"><em>filename</em></span><span class="paramdefsep"> = </span><span class="paramdefval">''</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>thread_count</em></span><span class="paramdefsep"> = </span><span class="paramdefval">8</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict </td>          <td class="paramname"><span class="paramname"><em>driver_options</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function conducts mapping on existing stratifications. </p>
<p>The pre-existing stratifications are passed in the form of a raster, band, and num_stratum. The bands argument specifies which bands within the raster should be used, the num_stratum argument specifies the number of stratum within one particular band.</p>
<p>the arguments are passed in the form of a tuple, of which there can be any number. For example, both of the following are valid:</p><ul>
<li><a class="el" href="namespacesgspy_1_1stratify_1_1map.html">map((rast1, bands1, num_stratum1))</a></li>
<li>map((rast1, bands1, num_stratum1), (rast1, bands2, num_stratum2))</li>
</ul>
<p>the raster within the tuple MUST be of type sgs.utils.SpatialRaster. The bands argument MUST be:</p><ul>
<li>an int, specifying a single band.</li>
<li>a str, specifying a single band.</li>
<li>a list of ints, specifying the indexes of bands.</li>
<li>a list of strings, specifying the names of bands.</li>
</ul>
<p>The num_stratum argument MUST be</p><ul>
<li>an int, if bands is an int or string, specifiying the exact number of stratum in the selected band.</li>
<li>a list of ints of the same length of bands, specifying the exact number of stratum in each of the indexes specified by the bands list.</li>
</ul>
<p>the filename parameter specifies an output file name. Right now the only file format accepted is GTiff (.tiff).</p>
<p>The thread_count parameter specifies the number of threads which this function will utilize in the case where the raster is large an may not fit in memory. If the full raster can fit in memory and does not need to be processed in blocks, this argument will be ignored. The default is 8 threads, although the optimal number will depend significantly on the hardware being used and may be more or less than 8.</p>
<p>the driver_options parameter is used to specifiy creation options for the output raster, such as compression. See options fro GTiff driver here: <a href="https://gdal.org/en/stable/drivers/raster/gtiff.html#creation-options">https://gdal.org/en/stable/drivers/raster/gtiff.html#creation-options</a> The keys in the driver_options dict must be strings, the values are converted to string. THe options must be valid for the driver corresponding to the filename, and if filename is not given they must be valid for the GTiff format, as that is the format used to store temporary raster files. Note that if this parameter is given, but filename is not and the raster fits entirely in memory, the driver_options parameter will be ignored.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md30"></a>
Examples</h2>
<p>rast = sgspy.SpatialRaster("rast.tif") <br  />
breaks = <a class="el" href="namespacesgspy_1_1stratify_1_1breaks.html">sgspy.stratify.breaks</a>(rast, breaks={'zq90': [3, 5, 11, 18], 'pzabove2]: [20, 40, 60, 80]}) <br  />
quantiles = <a class="el" href="namespacesgspy_1_1stratify_1_1quantiles.html">sgspy.stratify.quantiles</a>(rast, num_strata={'zsd': 25}) <br  />
srast = <a class="el" href="namespacesgspy_1_1stratify_1_1map.html">sgspy.stratify.map</a>((breaks, ['strat_zq90', 'strat_pzabove2'], [5, 5]), (quantiles, 'strat_zsd', 25))</p>
<p>rast = sgspy.SpatialRaster("rast.tif") <br  />
inventory = sgspy.SpatialVector("inventory_polygons.shp") <br  />
breaks = <a class="el" href="namespacesgspy_1_1stratify_1_1breaks.html">sgspy.stratify.breaks</a>(rast, breaks={'zq90': [3, 5, 11, 18], 'pzabove2]: [20, 40, 60, 80]}) <br  />
poly = <a class="el" href="namespacesgspy_1_1stratify_1_1poly.html">sgspy.stratify.poly</a>(rast, inventory, attribute="NUTRIENTS", layer_name="inventory_polygons", features=['poor', 'medium', 'rich']) <br  />
srast = <a class="el" href="namespacesgspy_1_1stratify_1_1map.html">sgspy.stratify.map</a>((breaks, [0, 1], [5, 5]), (poly, 0, 3), filename="mapped_srast.tif", driver_options={"COMPRESS", "LZW"})</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md31"></a>
Parameters</h2>
<p>*args : tuple[<a class="el" href="classsgspy_1_1utils_1_1raster_1_1SpatialRaster.html" title="This class represents a spatial raster, and is used as an input to many sgs functions.">SpatialRaster</a>, int|list[int]|list[str], int|list[int]] <br  />
 tuples specifying raster bands and their number of stratifications <br  />
 <br  />
filename : str <br  />
 filename to write to or '' if not file should be written <br  />
 <br  />
thread_count : int <br  />
 the number of threads to use when multithreading large images <br  />
 <br  />
driver_options : dict[str] <br  />
 the creation options as defined by GDAL which will be passed when creating output files <br  />
 <br  />
 </p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md32"></a>
Returns</h2>
<p>a <a class="el" href="classsgspy_1_1utils_1_1raster_1_1SpatialRaster.html" title="This class represents a spatial raster, and is used as an input to many sgs functions.">SpatialRaster</a> object containing a band of mapped stratifications from the input raster(s). </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
