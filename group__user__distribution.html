<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sgsPy: distribution</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">sgsPy
   </div>
   <div id="projectbrief">structurally guided sampling</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__user__distribution.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">distribution <div class="ingroups"><a class="el" href="group__user.html">User Documentation</a> &raquo; <a class="el" href="group__user__calculate.html">calculate</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafa80871a40453e0ad5874fdabe103102" id="r_gafa80871a40453e0ad5874fdabe103102"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafa80871a40453e0ad5874fdabe103102">sgspy.calculate.distribution.distribution.distribution</a> (<a class="el" href="classsgspy_1_1utils_1_1raster_1_1SpatialRaster.html">SpatialRaster</a> rast, Optional[str|int] band=None, Optional[<a class="el" href="classsgspy_1_1utils_1_1vector_1_1SpatialVector.html">SpatialVector</a>] samples=None, Optional[str] layer=None, int bins=50, int threads=8, bool plot=True)</td></tr>
<tr class="memdesc:gafa80871a40453e0ad5874fdabe103102"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the distribution of a given raster band.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="gafa80871a40453e0ad5874fdabe103102" name="gafa80871a40453e0ad5874fdabe103102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafa80871a40453e0ad5874fdabe103102">&#9670;&#160;</a></span>distribution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sgspy.calculate.distribution.distribution.distribution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsgspy_1_1utils_1_1raster_1_1SpatialRaster.html">SpatialRaster</a></td>          <td class="paramname"><span class="paramname"><em>rast</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str | int] </td>          <td class="paramname"><span class="paramname"><em>band</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[<a class="el" href="classsgspy_1_1utils_1_1vector_1_1SpatialVector.html">SpatialVector</a>] </td>          <td class="paramname"><span class="paramname"><em>samples</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] </td>          <td class="paramname"><span class="paramname"><em>layer</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>bins</em></span><span class="paramdefsep"> = </span><span class="paramdefval">50</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>threads</em></span><span class="paramdefsep"> = </span><span class="paramdefval">8</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>plot</em></span><span class="paramdefsep"> = </span><span class="paramdefval">True</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function calculates the distribution of a given raster band. </p>
<p>The distribution is plotted by default, it is also returned.</p>
<p>A number of bins can be given (the default is 50), the bins will be sized equally depending on the minimum and maximum values within the raster band. If the raster is a multi-band raster, the 'band' parameter must be passed.</p>
<p>Additionally, a <a class="el" href="classsgspy_1_1utils_1_1vector_1_1SpatialVector.html" title="This class represents a spatial vector, and is used as an input to many sgs functions.">SpatialVector</a> may be passed to the samples parameter which must contain a sample plot network (only geometry types Point or MultiPoint). If a <a class="el" href="classsgspy_1_1utils_1_1vector_1_1SpatialVector.html" title="This class represents a spatial vector, and is used as an input to many sgs functions.">SpatialVector</a> is passed this way, the distribution of the samples will also be calculated, using the same bins as the layer distribution. if the <a class="el" href="classsgspy_1_1utils_1_1vector_1_1SpatialVector.html" title="This class represents a spatial vector, and is used as an input to many sgs functions.">SpatialVector</a> has more than one layer, the 'layer' parameter must be passed.</p>
<p>This function returns a dict, the keys of the dict will be either 'population' or 'sample'. If the 'samples' parameter is not given, only the 'population' key will exist. If the 'samples' parameter IS given, both 'population' and 'sample' will exist as keys. The values of the dict will be two arrays, one is the array of bins of type float64, the other is the array of counts of type int64. The array of bins will be one value longer than the array of counts, as it countains not just the minimum value but also the maximum value.</p>
<p>For example, if the minimum pixel value in the raster is 1, and the maximum pixel value in the raster is 3, 3 and the bin size is 4, then the bin array would be [1.0, 1.5, 2.0, 2.5, 3.0]. The array of counts would then be of length 4, where the first element (index 0) would be the count of pixels which have a pixel value that satisfies the following 1.0 &lt;= val &lt; 1.5. The second element (index 1) would then be 1.5 &lt;= val &lt; 2.0, and so on until the final element with 2.5 &lt;= val &lt;= 3. This is typical, and matches the way that the numpy histogram function works.</p>
<p>The 'threads' parameter specifies the number of threads which this function will utilize. The default value is 8. The optimal number will depend significantly on both the hardware being used and the raster data, and may be more or less than 8.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
Examples</h2>
<p>rast = sgspy.SpatialRaster("rast.tif") #single band raster <br  />
<a class="el" href="namespacesgspy_1_1calculate_1_1distribution.html">sgspy.calculate.distribution(rast)</a> #plotting is default</p>
<p>rast = sgspy.SpatialRaster("mraster.tif") <br  />
<a class="el" href="namespacesgspy_1_1calculate_1_1distribution.html">sgspy.calculate.distribution</a>(rast, band='pzabove2', bins=10)</p>
<p>rast = sgspy.SpatialRaster("mraster.tif") <br  />
samples = <a class="el" href="namespacesgspy_1_1sample_1_1clhs.html">sgspy.sample.clhs</a>(rast, num_samples=250) <br  />
<a class="el" href="namespacesgspy_1_1calculate_1_1distribution.html">sgspy.calculate.distribution</a>(rast, band='zsd', samples=samples)</p>
<p>rast = sgspy.SpatialRaster("mraster.tif") <br  />
samples = sgpsy.sample.clhs(rast, num_samples=240) <br  />
result = <a class="el" href="namespacesgspy_1_1calculate_1_1distribution.html">sgspy.calculate.distribution</a>(rast, band='zq90', samples=samples, bins=100, plot=False) <br  />
[pop_bins, pop_counts] = result['population'] <br  />
[samp_bins, samp_counts] = result['sample']</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Parameters</h2>
<p>rast : <a class="el" href="classsgspy_1_1utils_1_1raster_1_1SpatialRaster.html" title="This class represents a spatial raster, and is used as an input to many sgs functions.">SpatialRaster</a> <br  />
 raster data structure containing input raster band <br  />
 <br  />
band : Optional[str | int] <br  />
 the band to use within 'rast' if 'rast' has more than one band <br  />
 <br  />
samples : Optional[<a class="el" href="classsgspy_1_1utils_1_1vector_1_1SpatialVector.html" title="This class represents a spatial vector, and is used as an input to many sgs functions.">SpatialVector</a>] the option data structure containing an input sample network <br  />
 <br  />
layer : Optional[str] <br  />
 the layer name of the sample network if 'samples' contains more than one layer <br  />
 <br  />
bins : int <br  />
 the number of bins in the histogram distribution <br  />
 <br  />
 threads : int <br  />
 the number of threads to use <br  />
 <br  />
 plot : bool <br  />
 whether to plot a histogram of the distribution <br  />
 <br  />
</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Returns</h2>
<p>a dict[str, (array, array)] containing the bin values and counts, with dict keys 'population' and potentially 'sample' </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
